# ContentHubï¼ˆå†…å®¹æ±‡ï¼‰

æŠŠå¥½èµ¤çš„å²æ”¾åˆ°ä¸€èµ·ï¼Œå¤©å¤©èµ¤ï¼

ä½¿ç”¨ Nuxt.js + TailwindCSS + Prisma + PostgreSQLã€‚

> [!WARNING]
> é¡¹ç›®å¤§é‡ä½¿ç”¨AIè¿›è¡Œvibe coding

## é¢„è§ˆ

![screenshot2](./public/screenshot-2.png)  
![screenshot3](./public/screenshot-3.png)

## åŠŸèƒ½ç‰¹æ€§

- ğŸ“ **æ–‡ç« æ”¶è—**: ä¿å­˜æ–‡ç« é“¾æ¥ã€å†…å®¹å’Œè¯„è®º
- ğŸ¥ **è§†é¢‘æ”¶è—**: æ”¯æŒè§†é¢‘æ–‡ä»¶ä¸Šä¼ å’Œæœ¬åœ°å­˜å‚¨
- ğŸ·ï¸ **æ ‡ç­¾ç®¡ç†**: ä¸ºå†…å®¹æ·»åŠ æ ‡ç­¾è¿›è¡Œåˆ†ç±»
- ğŸ‘ **äº’åŠ¨åŠŸèƒ½**: ç‚¹èµã€æµè§ˆé‡ã€æ”¶è—é‡ç»Ÿè®¡
- ğŸ” **æœç´¢ç­›é€‰**: æ”¯æŒå†…å®¹æœç´¢å’Œç±»å‹ç­›é€‰
- ğŸŒ™ **æ·±è‰²æ¨¡å¼**: æ”¯æŒæ˜æš—ä¸»é¢˜åˆ‡æ¢

## æŠ€æœ¯æ ˆ

- **å‰ç«¯æ¡†æ¶**: Nuxt.js 3
- **æ ·å¼æ¡†æ¶**: TailwindCSS
- **UIç»„ä»¶**: Headless UI
- **å›¾æ ‡åº“**: Lucide Vue Next
- **æ•°æ®åº“**: PostgreSQL
- **ORM**: Prisma
- **çŠ¶æ€ç®¡ç†**: Pinia
- **å·¥å…·åº“**: VueUse

## å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒè¦æ±‚

- Node.js 18+
- PostgreSQL æ•°æ®åº“

### 2. å®‰è£…ä¾èµ–

```bash
pnpm install
```

### 3. æ•°æ®åº“é…ç½®

1. åˆ›å»º PostgreSQL æ•°æ®åº“
æˆ‘ç”¨Docker
```bash
docker run --name postgres -e POSTGRES_PASSWORD=mysecretpassword -p 5432:5432 -d postgres
```

2. å¤åˆ¶ `.env.example` ä¸º `.env`
3. ä¿®æ”¹ `.env` ä¸­çš„æ•°æ®åº“è¿æ¥ä¿¡æ¯ï¼š

```env
DATABASE_URL="postgresql://postgres:mysecretpassword@localhost:5432/content_collection?schema=public"
```

### 4. åˆå§‹åŒ–æ•°æ®åº“

```bash
# ç”Ÿæˆ Prisma å®¢æˆ·ç«¯
npx prisma generate

# æ¨é€æ•°æ®åº“æ¨¡å¼
npx prisma db push

# å¯é€‰ï¼šæŸ¥çœ‹æ•°æ®åº“
npx prisma studio
```

### 5. å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
pnpm dev
```

è®¿é—® http://localhost:3000

## é¡¹ç›®ç»“æ„

```
content-collection-platform/
â”œâ”€â”€ components/           # Vue ç»„ä»¶
â”‚   â”œâ”€â”€ ContentCard.vue   # å†…å®¹å¡ç‰‡ç»„ä»¶
â”‚   â”œâ”€â”€ ContentModal.vue  # å†…å®¹è¯¦æƒ…æ¨¡æ€æ¡†
â”‚   â””â”€â”€ AddContentModal.vue # æ·»åŠ å†…å®¹æ¨¡æ€æ¡†
â”œâ”€â”€ pages/               # é¡µé¢
â”‚   â””â”€â”€ index.vue        # é¦–é¡µ
â”œâ”€â”€ server/              # æœåŠ¡ç«¯ API
â”‚   â””â”€â”€ api/
â”‚       â””â”€â”€ content/     # å†…å®¹ç›¸å…³ API
â”œâ”€â”€ prisma/              # æ•°æ®åº“æ¨¡å¼
â”‚   â””â”€â”€ schema.prisma    # Prisma æ¨¡å¼æ–‡ä»¶
â”œâ”€â”€ assets/              # é™æ€èµ„æº
â”‚   â””â”€â”€ css/
â”‚       â””â”€â”€ main.css     # å…¨å±€æ ·å¼
â”œâ”€â”€ composables/         # ç»„åˆå¼å‡½æ•°
â”œâ”€â”€ lib/                 # å·¥å…·åº“
â””â”€â”€ public/              # å…¬å…±æ–‡ä»¶
    â””â”€â”€ uploads/         # ä¸Šä¼ æ–‡ä»¶å­˜å‚¨
```

## API æ¥å£

### å†…å®¹ç®¡ç†

- `GET /api/content` - è·å–å†…å®¹åˆ—è¡¨
- `POST /api/content` - åˆ›å»ºæ–°å†…å®¹
- `POST /api/content/[id]/view` - å¢åŠ æµè§ˆé‡
- `POST /api/content/[id]/like` - åˆ‡æ¢ç‚¹èµçŠ¶æ€
- `POST /api/content/[id]/favorite` - åˆ‡æ¢æ”¶è—çŠ¶æ€

### è¯·æ±‚å‚æ•°

#### è·å–å†…å®¹åˆ—è¡¨
```
GET /api/content?page=1&limit=20&type=ARTICLE&search=å…³é”®è¯
```

#### åˆ›å»ºå†…å®¹
```
POST /api/content
Content-Type: multipart/form-data

{
  "type": "ARTICLE|VIDEO",
  "title": "æ ‡é¢˜",
  "originalUrl": "åŸå§‹é“¾æ¥",
  "description": "æè¿°",
  "content": "å†…å®¹",
  "tags": ["æ ‡ç­¾1", "æ ‡ç­¾2"],
  "video": File (ä»…è§†é¢‘ç±»å‹)
}
```

## æ•°æ®åº“æ¨¡å¼

### Content (å†…å®¹è¡¨)
- `id`: å”¯ä¸€æ ‡è¯†ç¬¦
- `title`: æ ‡é¢˜
- `description`: æè¿°
- `originalUrl`: åŸå§‹é“¾æ¥
- `content`: å†…å®¹
- `localVideoPath`: æœ¬åœ°è§†é¢‘è·¯å¾„
- `type`: å†…å®¹ç±»å‹ (ARTICLE/VIDEO)
- `likes`: ç‚¹èµæ•°
- `views`: æµè§ˆé‡
- `favorites`: æ”¶è—æ•°
- `createdAt`: åˆ›å»ºæ—¶é—´
- `updatedAt`: æ›´æ–°æ—¶é—´

### Tag (æ ‡ç­¾è¡¨)
- `id`: å”¯ä¸€æ ‡è¯†ç¬¦
- `name`: æ ‡ç­¾åç§°
- `color`: æ ‡ç­¾é¢œè‰²

### Comment (è¯„è®ºè¡¨)
- `id`: å”¯ä¸€æ ‡è¯†ç¬¦
- `content`: è¯„è®ºå†…å®¹
- `author`: ä½œè€…
- `contentId`: å…³è”å†…å®¹ID

### UserAction (ç”¨æˆ·è¡Œä¸ºè¡¨)
- `id`: å”¯ä¸€æ ‡è¯†ç¬¦
- `contentId`: å…³è”å†…å®¹ID
- `action`: è¡Œä¸ºç±»å‹ (like/view/favorite)
- `ipAddress`: IPåœ°å€
- `userAgent`: ç”¨æˆ·ä»£ç†

## å¼€å‘è¯´æ˜

### æ·»åŠ æ–°åŠŸèƒ½

1. åœ¨ `components/` ä¸­åˆ›å»ºæ–°ç»„ä»¶
2. åœ¨ `server/api/` ä¸­æ·»åŠ  API æ¥å£
3. æ›´æ–° Prisma æ¨¡å¼ï¼ˆå¦‚éœ€è¦ï¼‰
4. è¿è¡Œ `npx prisma db push` æ›´æ–°æ•°æ®åº“

### æ ·å¼å®šåˆ¶

- ä¿®æ”¹ `tailwind.config.js` è‡ªå®šä¹‰ä¸»é¢˜
- åœ¨ `assets/css/main.css` ä¸­æ·»åŠ å…¨å±€æ ·å¼
- ä½¿ç”¨ TailwindCSS ç±»è¿›è¡Œæ ·å¼è®¾è®¡

### éƒ¨ç½²

1. æ„å»ºé¡¹ç›®ï¼š`pnpm build`
2. è®¾ç½®ç”Ÿäº§ç¯å¢ƒæ•°æ®åº“
3. è¿è¡Œæ•°æ®åº“è¿ç§»ï¼š`npx prisma migrate deploy`
4. å¯åŠ¨æœåŠ¡ï¼š`pnpm preview`

### prompts
æˆ‘æƒ³è¦åšä¸€ä¸ªå¹³å°æ¥æ”¶é›†æˆ‘æ—¥å¸¸åˆ·åˆ°çš„æ–‡ç« ä»¥åŠè§†é¢‘ï¼Œæˆ‘å¸Œæœ›ä½¿ç”¨Nuxtjsä½œä¸ºæ¡†æ¶ï¼Œä½¿ç”¨tailwindcsså’Œshadcnä½œæ ·å¼å¤„ç†ï¼Œæ•°æ®åº“ä½¿ç”¨postgresql,æ­é…prismaä½¿ç”¨ï¼Œæ•°æ®åº“éœ€è¦èƒ½å¤Ÿå­˜æ”¾åŸå§‹é“¾æ¥ï¼Œå¦‚æœæ˜¯æ–‡ç« éœ€è¦ä¿å­˜æ–‡ç« å†…å®¹å’ŒåŸå§‹é“¾æ¥ï¼Œå¦‚æœæœ‰è¯„è®ºå°±éœ€è¦ä¿å­˜è¯„è®ºï¼Œå¦‚æœæ˜¯è§†é¢‘ï¼Œè·Ÿæ–‡ç« ä¸€æ ·ï¼Œä½†æ˜¯éœ€è¦æ–°å¢ä¸€ä¸ªæœ¬åœ°è§†é¢‘æ˜ å°„ï¼Œå› ä¸ºæˆ‘ä¼šæŠŠè§†é¢‘æ”¾åˆ°æœ¬åœ°å­˜å‚¨ï¼Œéœ€è¦ä¸ºæ¯ä¸€ä¸ªæ–‡ç« æˆ–è€…è§†é¢‘æ·»åŠ ç‚¹èµé‡ã€æµè§ˆé‡ã€æ”¶è—é‡ï¼ŒåŒæ—¶è¿˜éœ€è¦å®ç°è¿™äº›åŠŸèƒ½ã€‚å‰ç«¯é¡µé¢æˆ‘å¸Œæœ›æ•´ä¸ªé¦–é¡µéƒ½æ˜¯å¡ç‰‡çš„ç€‘å¸ƒæµå±•ç¤ºï¼Œæ–‡ç« å¡ç‰‡éœ€è¦æœ‰æ ‡é¢˜ã€æ–‡ç« ç®€ä»‹ã€ç‚¹å‡»å…¶ä¸­ä¸€ä¸ªå¡ç‰‡å¯ä»¥æ–°å¢æµè§ˆé‡ï¼Œç„¶åå¼¹çª—æ˜¾ç¤ºå†…å®¹ï¼ŒUIè®¾è®¡éœ€è¦æœ‰ç°ä»£åŒ–çš„é£æ ¼ï¼Œæµç•…çš„åŠ¨ç”»

æˆ‘å¸Œæœ›ä¸Šä¼ çš„æ–‡ä»¶ä½ç½®å¯ä»¥é€šè¿‡.envé…ç½®

å®ç°å®Œæ•´çš„è§†é¢‘æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½ï¼Œå­˜åˆ°æœ¬åœ°å°±å¥½äº†

332MBçš„è§†é¢‘ä¸Šä¼ ä¸Šå»å˜æˆäº†588MB


